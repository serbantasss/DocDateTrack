extends layout

block content

            h1.mt-5=title

            form.d-block(method='POST' action='')
                //div.form-group
                //    label(for='title') Title:
                //    input#title.form-control(type='text', placeholder='Name of book' name='title' required='true' value=(undefined===book ? '' : book.title) )
                div.form-group.mb-3
                    label(for='owner') Owner:
                    select#owner.form-control(type='select', placeholder='Select owner' name='owner' required='true' )
                        //- owners.sort(function(a, b) {let textA = a.last_name.toUpperCase(); let textB = b.last_name.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
                        for owner in owners
                            if document
                                option(value=owner._id selected=(owner._id.toString()===document.owner._id.toString() ? 'selected' : false) ) #{owner.name}
                            else
                                option(value=owner._id) #{owner.name}
                div.form-group.mb-3
                    label(for='category') Category:
                    select#category.form-control(type='select', placeholder='Select category' name='category' required='true' )
                        //- owners.sort(function(a, b) {let textA = a.last_name.toUpperCase(); let textB = b.last_name.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
                        for category in categories
                            if document
                                option(value=category._id selected=(category._id.toString() === document.category._id.toString() ? 'selected' : false) ) #{category.name}
                            else
                                option(value=category._id) #{category.name}
                //div.form-group
                //    label(for='summary') Summary:
                //    input#summary.form-control(type='textarea', placeholder='Summary' name='summary' value=(undefined===book ? '' : book.summary) required='true')
                //div.form-group
                //    label(for='isbn') ISBN:
                //    input#isbn.form-control(type='text', placeholder='ISBN13' name='isbn' value=(undefined===book ? '' : book.isbn) required='true')
                //div.form-group
                //    label Genre:
                //    div
                //        for genre in genres
                //            div(style='display: inline; padding-right:10px;')
                //                input.checkbox-input(type='checkbox', name='genre', id=genre._id, value=genre._id, checked=genre.checked )
                //                label(for=genre._id) #{genre.name}
                button.btn.btn-primary.btn-sm(type='submit') Submit
            //"w-100 btn btn-primary btn-lg"

            if errors
                ul
                    for error in errors
                        li!= error.msg
